{"version":3,"file":"simple-youtube-feed/view.js","mappings":";;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACtD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,cAAc,CAAC,wBAAwB,CAAC;EACnE,MAAMC,YAAY,GAAGF,SAAS,CAACG,YAAY,CAAC,oBAAoB,CAAC,KAAK,MAAM;;EAE5E;EACA,IAAI,CAACH,SAAS,IAAIA,SAAS,CAACI,YAAY,CAAC,kBAAkB,CAAC,EAAE;IAC1D;EACJ;EAEAJ,SAAS,CAACK,YAAY,CAAC,kBAAkB,EAAE,MAAM,CAAC;EAElD,MAAMC,MAAM,GAAGN,SAAS,CAACG,YAAY,CAAC,aAAa,CAAC,IAAI,MAAM;EAC9D,MAAMI,SAAS,GAAGC,QAAQ,CAACR,SAAS,CAACG,YAAY,CAAC,iBAAiB,CAAC,EAAE,EAAE,CAAC,IAAI,EAAE;EAC/E,MAAMM,gBAAgB,GAAGT,SAAS,CAACG,YAAY,CAAC,wBAAwB,CAAC;EACzE,MAAMO,UAAU,GAAG,uCAAuC;;EAE1D;EACA,eAAeC,WAAWA,CAACC,WAAW,GAAG,EAAE,EAAE;IACzC,IAAIC,MAAM,GAAG,GAAGH,UAAU,6CAA6CI,SAAS,CAACC,SAAS,eAAeR,SAAS,QAAQO,SAAS,CAACE,MAAM,EAAE;IAE5I,IAAIP,gBAAgB,EAAE;MAClBI,MAAM,GAAG,GAAGH,UAAU,0CAA0CH,SAAS,eAAeE,gBAAgB,QAAQK,SAAS,CAACE,MAAM,EAAE;IACtI;;IAEA;IACA,IAAIJ,WAAW,EAAE;MACbC,MAAM,IAAI,MAAMI,kBAAkB,CAACL,WAAW,CAAC,EAAE;IACrD;IAEA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACN,MAAM,CAAC;IACpC,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI,CAACE,KAAK,IAAI,EAAE;EAC3B;;EAEA;EACA,IAAIpB,YAAY,IAAI,CAACJ,QAAQ,CAACyB,aAAa,CAAC,2BAA2B,CAAC,EAAE;IACtE,MAAMC,eAAe,GAAG1B,QAAQ,CAAC2B,aAAa,CAAC,KAAK,CAAC;IACrDD,eAAe,CAACE,SAAS,CAACC,GAAG,CAAC,0BAA0B,CAAC;IAEzD,MAAMC,SAAS,GAAG9B,QAAQ,CAAC2B,aAAa,CAAC,OAAO,CAAC;IACjDG,SAAS,CAACC,IAAI,GAAG,MAAM;IACvBD,SAAS,CAACE,WAAW,GAAG,eAAe;IACvCF,SAAS,CAACF,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;IAE7C,MAAMI,YAAY,GAAGjC,QAAQ,CAAC2B,aAAa,CAAC,QAAQ,CAAC;IACrDM,YAAY,CAACC,WAAW,GAAG,QAAQ;IACnCD,YAAY,CAACL,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC;IAEnDC,SAAS,CAAC7B,gBAAgB,CAAC,UAAU,EAAGkC,KAAK,IAAK;MAC9C,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,EAAE;QACvBD,KAAK,CAACE,cAAc,CAAC,CAAC,CAAC,CAAC;QACxBJ,YAAY,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1B;IACJ,CAAC,CAAC;IAEFL,YAAY,CAAChC,gBAAgB,CAAC,OAAO,EAAE,YAAY;MAC/C,MAAMsC,OAAO,GAAGT,SAAS,CAACU,KAAK,CAACC,IAAI,CAAC,CAAC;MACtC,MAAMC,MAAM,GAAG,MAAM7B,WAAW,CAAC0B,OAAO,CAAC;MACzCI,YAAY,CAACzC,SAAS,EAAEwC,MAAM,EAAElC,MAAM,CAAC;IAC3C,CAAC,CAAC;IAEFkB,eAAe,CAACkB,WAAW,CAACd,SAAS,CAAC;IACtCJ,eAAe,CAACkB,WAAW,CAACX,YAAY,CAAC;IACzC/B,SAAS,CAAC0C,WAAW,CAAClB,eAAe,CAAC;EAC1C;;EAEA;EACA,MAAMmB,aAAa,GAAG,MAAMhC,WAAW,CAAC,CAAC;EACzC8B,YAAY,CAACzC,SAAS,EAAE2C,aAAa,EAAErC,MAAM,CAAC;AAClD,CAAC,CAAC;AAEF,SAASmC,YAAYA,CAACzC,SAAS,EAAEwC,MAAM,EAAElC,MAAM,EAAE;EAC7CN,SAAS,CAAC4C,SAAS,GAAG,EAAE;EAExB,IAAItC,MAAM,KAAK,UAAU,EAAE;IACvBuC,oBAAoB,CAAC7C,SAAS,EAAEwC,MAAM,CAAC;EAC3C,CAAC,MAAM;IACH,MAAMM,cAAc,GAAGhD,QAAQ,CAAC2B,aAAa,CAAC,KAAK,CAAC;IACpDqB,cAAc,CAACpB,SAAS,CAACC,GAAG,CAACrB,MAAM,KAAK,MAAM,GAAG,mBAAmB,GAAG,mBAAmB,CAAC;IAC3FN,SAAS,CAAC0C,WAAW,CAACI,cAAc,CAAC;IAErCN,MAAM,CAACO,OAAO,CAACC,KAAK,IAAI;MACpB,MAAMC,YAAY,GAAGnD,QAAQ,CAAC2B,aAAa,CAAC,KAAK,CAAC;MAClDwB,YAAY,CAACvB,SAAS,CAACC,GAAG,CAACrB,MAAM,KAAK,MAAM,GAAG,yBAAyB,GAAG,yBAAyB,CAAC;MAErG,MAAM4C,KAAK,GAAGF,KAAK,CAACG,OAAO,CAACD,KAAK;MACjC,MAAME,WAAW,GAAGJ,KAAK,CAACG,OAAO,CAACC,WAAW;MAC7C,MAAMC,OAAO,GAAGL,KAAK,CAACM,EAAE,CAACD,OAAO,IAAIL,KAAK,CAACG,OAAO,CAACI,UAAU,EAAEF,OAAO;MACrE,MAAMG,QAAQ,GAAG,iCAAiCH,OAAO,WAAW;MAEpEJ,YAAY,CAACL,SAAS,GAAG;AACrC;AACA;AACA,+BAA+BY,QAAQ;AACvC,iCAAiCN,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8CA,KAAK;AACnD,mDAAmDE,WAAW;AAC9D;AACA,aAAa;MAEDN,cAAc,CAACJ,WAAW,CAACO,YAAY,CAAC;IAC5C,CAAC,CAAC;EACN;AACJ;AAEA,SAASJ,oBAAoBA,CAAC7C,SAAS,EAAEwC,MAAM,EAAE;EAC7CxC,SAAS,CAAC4C,SAAS,GAAG;AAC1B;AACA;AACA,kBAAkBJ,MAAM,CAACiB,GAAG,CAACT,KAAK,IAAI;AACtC;AACA;AACA,iEAAiEA,KAAK,CAACM,EAAE,CAACD,OAAO,IAAIL,KAAK,CAACG,OAAO,CAACI,UAAU,EAAEF,OAAO;AACtH,qCAAqCL,KAAK,CAACG,OAAO,CAACD,KAAK;AACxD;AACA;AACA;AACA;AACA,sDAAsDF,KAAK,CAACG,OAAO,CAACD,KAAK;AACzE,iCAAiCF,KAAK,CAACG,OAAO,CAACC,WAAW;AAC1D;AACA;AACA,iBAAiB,CAAC,CAACM,IAAI,CAAC,EAAE,CAAC;AAC3B;AACA;AACA;AACA;AACA;AACA,KAAK;EAED,IAAIC,MAAM,CAAC,mBAAmB,EAAE;IAC5BC,aAAa,EAAE,CAAC;IAChBC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE;MACRC,MAAM,EAAE,qBAAqB;MAC7BC,MAAM,EAAE;IACZ,CAAC;IACDC,UAAU,EAAE;MACRC,EAAE,EAAE,oBAAoB;MACxBC,SAAS,EAAE;IACf,CAAC;IACDC,IAAI,EAAE,IAAI;IACVC,WAAW,EAAE;MACT,GAAG,EAAE;QAAET,aAAa,EAAE,CAAC;QAAEC,YAAY,EAAE;MAAG,CAAC;MAC3C,GAAG,EAAE;QAAED,aAAa,EAAE,CAAC;QAAEC,YAAY,EAAE;MAAG,CAAC;MAC3C,IAAI,EAAE;QAAED,aAAa,EAAE,CAAC;QAAEC,YAAY,EAAE;MAAG;IAC/C;EACJ,CAAC,CAAC;AACN,C","sources":["webpack://youtube-for-wordpress/./src/simple-youtube-feed/view.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", async () => {\n    const container = document.getElementById(\"youtube-feed-container\");\n    const enableSearch = container.getAttribute('data-enable-search') === 'true';\n\n    // Ensure container is available\n    if (!container || container.hasAttribute('data-initialized')) {\n        return;\n    }\n\n    container.setAttribute('data-initialized', 'true');\n\n    const layout = container.getAttribute('data-layout') || 'grid';\n    const maxVideos = parseInt(container.getAttribute('data-max-videos'), 10) || 10;\n    const selectedPlaylist = container.getAttribute('data-selected-playlist');\n    const apiUrlBase = `https://www.googleapis.com/youtube/v3`;\n\n    // Function to perform API fetch\n    async function fetchVideos(searchQuery = '') {\n        let apiUrl = `${apiUrlBase}/search?part=snippet&type=video&channelId=${YT_FOR_WP.channelId}&maxResults=${maxVideos}&key=${YT_FOR_WP.apiKey}`;\n        \n        if (selectedPlaylist) {\n            apiUrl = `${apiUrlBase}/playlistItems?part=snippet&maxResults=${maxVideos}&playlistId=${selectedPlaylist}&key=${YT_FOR_WP.apiKey}`;\n        }\n\n        // Add search query parameter if provided\n        if (searchQuery) {\n            apiUrl += `&q=${encodeURIComponent(searchQuery)}`;\n        }\n\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        return data.items || [];\n    }\n\n    // Render search bar if enabled\n    if (enableSearch && !document.querySelector(\".youtube-search-container\")) {\n        const searchContainer = document.createElement(\"div\");\n        searchContainer.classList.add(\"youtube-search-container\");\n\n        const searchBar = document.createElement(\"input\");\n        searchBar.type = \"text\";\n        searchBar.placeholder = \"Search videos\";\n        searchBar.classList.add(\"youtube-search-bar\");\n\n        const searchButton = document.createElement(\"button\");\n        searchButton.textContent = \"Search\";\n        searchButton.classList.add(\"youtube-search-button\");\n\n        searchBar.addEventListener(\"keypress\", (event) => {\n            if (event.key === \"Enter\") {\n                event.preventDefault(); // Prevent form submission if inside a form\n                searchButton.click(); // Trigger search button click\n            }\n        });\n\n        searchButton.addEventListener(\"click\", async () => {\n            const keyword = searchBar.value.trim();\n            const videos = await fetchVideos(keyword);\n            renderVideos(container, videos, layout);\n        });\n\n        searchContainer.appendChild(searchBar);\n        searchContainer.appendChild(searchButton);\n        container.appendChild(searchContainer);\n    }\n\n    // Initial video load\n    const initialVideos = await fetchVideos();\n    renderVideos(container, initialVideos, layout);\n});\n\nfunction renderVideos(container, videos, layout) {\n    container.innerHTML = \"\";\n\n    if (layout === \"carousel\") {\n        renderCarouselLayout(container, videos);\n    } else {\n        const videoContainer = document.createElement(\"div\");\n        videoContainer.classList.add(layout === \"grid\" ? \"youtube-feed-grid\" : \"youtube-feed-list\");\n        container.appendChild(videoContainer);\n\n        videos.forEach(video => {\n            const videoElement = document.createElement(\"div\");\n            videoElement.classList.add(layout === \"grid\" ? \"youtube-video-grid-item\" : \"youtube-video-list-item\");\n\n            const title = video.snippet.title;\n            const description = video.snippet.description;\n            const videoId = video.id.videoId || video.snippet.resourceId?.videoId;\n            const videoUrl = `https://www.youtube.com/embed/${videoId}?vq=hd720`;\n\n            videoElement.innerHTML = `\n                <div class=\"video-iframe-wrapper\">\n                    <iframe\n                        src=\"${videoUrl}\"\n                        title=\"${title}\"\n                        class=\"video-iframe\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowfullscreen\n                    ></iframe>\n                </div>\n                <div class=\"video-info\">\n                    <h2 class=\"video-title\">${title}</h2>\n                    <p class=\"video-description\">${description}</p>\n                </div>\n            `;\n\n            videoContainer.appendChild(videoElement);\n        });\n    }\n}\n\nfunction renderCarouselLayout(container, videos) {\n    container.innerHTML = `\n        <div class=\"swiper-container\">\n            <div class=\"swiper-wrapper\">\n                ${videos.map(video => `\n                    <div class=\"swiper-slide\">\n                        <iframe\n                            src=\"https://www.youtube.com/embed/${video.id.videoId || video.snippet.resourceId?.videoId}?vq=hd720\"\n                            title=\"${video.snippet.title}\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowfullscreen\n                        ></iframe>\n                        <div class=\"video-info\">\n                            <h2 class=\"video-title\">${video.snippet.title}</h2>\n                            <p>${video.snippet.description}</p>\n                        </div>\n                    </div>\n                `).join('')}\n            </div>\n            <div class=\"swiper-pagination\"></div>\n            <div class=\"swiper-button-next\"></div>\n            <div class=\"swiper-button-prev\"></div>\n        </div>\n    `;\n\n    new Swiper('.swiper-container', {\n        slidesPerView: 1,\n        spaceBetween: 10,\n        navigation: {\n            nextEl: '.swiper-button-next',\n            prevEl: '.swiper-button-prev',\n        },\n        pagination: {\n            el: '.swiper-pagination',\n            clickable: true,\n        },\n        loop: true,\n        breakpoints: {\n            640: { slidesPerView: 1, spaceBetween: 10 },\n            768: { slidesPerView: 2, spaceBetween: 20 },\n            1024: { slidesPerView: 3, spaceBetween: 30 },\n        }\n    });\n}\n"],"names":["document","addEventListener","container","getElementById","enableSearch","getAttribute","hasAttribute","setAttribute","layout","maxVideos","parseInt","selectedPlaylist","apiUrlBase","fetchVideos","searchQuery","apiUrl","YT_FOR_WP","channelId","apiKey","encodeURIComponent","response","fetch","data","json","items","querySelector","searchContainer","createElement","classList","add","searchBar","type","placeholder","searchButton","textContent","event","key","preventDefault","click","keyword","value","trim","videos","renderVideos","appendChild","initialVideos","innerHTML","renderCarouselLayout","videoContainer","forEach","video","videoElement","title","snippet","description","videoId","id","resourceId","videoUrl","map","join","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","pagination","el","clickable","loop","breakpoints"],"sourceRoot":""}