document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("youtube-live-container");if(!e)return void console.warn("YouTube Live container not found.");const t=e.getAttribute("data-channel-id"),n=e.getAttribute("data-max-videos")||1;if(!t)return void console.error("Channel ID is missing.");const o=YT_FOR_WP.apiKey;async function i(e){const i=`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${t}&type=video&eventType=${e}&maxResults=${n}&key=${o}`;console.log("Fetching videos with URL:",i);try{const t=await fetch(i),n=await t.json();return console.log("API response for",e,":",n),n.items||[]}catch(e){return console.error("Error fetching videos:",e),[]}}try{let t=await i("live");0===t.length&&(t=await i("completed")),t.length>0?function(e,t){e.innerHTML=t.map((e=>{const t=e.id.videoId,n=e.snippet.title;return`\n                <div class="youtube-live-wrapper">\n                    <iframe\n                        src="https://www.youtube.com/embed/${t}?autoplay=1"\n                        title="${n}"\n                        frameborder="0"\n                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n                        allowfullscreen\n                    ></iframe>\n                    <h2>${n}</h2>\n                </div>\n            `})).join("")}(e,t):e.innerHTML="<p>No live or previous live videos available.</p>"}catch(t){console.error("Error fetching videos:",t),e.innerHTML="<p>Error loading videos. Check console for details.</p>"}}));